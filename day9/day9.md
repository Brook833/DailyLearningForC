2022.9.17


# 标准库类型vector
标准库类型vector表示对象的集合，其中所有的对象的类型都相同。也被称作容器。

要想使用vector，必须包含适当的头文件。<vector>。

C++既有类模板，也有函数模板。其中vector是一个类模板。

模板本身不是类或函数，相反可以将模板看作为编译器生成类或函数编写的一份说明。编译器根据模板创建类或函数的过程称为实例化，当使用模板时，需要编译器把类或函数实例化成何种类型。

对于类模板来说，我们通过提供一些额外信息来指定模板到底实例化成什么样的类，需要提供哪些信息由模板决定。提供的信息方式总是这样：即在模板名字后面跟一对尖括号，在括号内放上信息。

以vector为例，提供的额外信息是vector内所存放对象的类型：

vector<int> ivec; //ivec保存int类型的对象。

vector<vector<string>> file; //该向量的元素是vector对象。

vector能容纳绝大多数类型的对象作为其元素，但是因为引用不是对象，所以不存在包含引用的vector。

## 定义和初始化vector对象
和任何一种类类型一样，vector模板控制着定义和初始化向量的方法。

vector<T> v1; //v1是一个空vector，它潜在的元素是T类型的，执行默认初始化。

vector<T> v2(v1); //v2中包含有v1所有元素的副本。

vector<T> v2 = v1; //等价于v2(v1)。

vector<T> v3(n, val); //v3包含n个重复元素，每个元素值都为val。

vector<T> v4(n); //v4包含了n个重复的执行了值初始化的对象。

vector<T> v5{a, b, c, d, e}; //v5包含了5个元素，值分别为a,b,c,d,e。

vector<T> v5 = {a, b, c, d, e}; //等价为v5{a,b,c,d,e}。

可以默认初始化vector对象，从而创建一个指定类型的空vertor。

vector<string> svec; //默认初始化，svec不含任何元素。

最常见的方式就是定义一个空vector，然后当运行时获取到元素的值后再逐一添加。

### 列表初始化vector对象
C++11标准还提供了另外一种为vector对象的元素赋初值的方法，即列表初始化。

vector<string> s = {"a", "an", "and"};

### 创建指定数量的元素
vector<int> ivec(10, -1);

vectror<string> svec(10, "hi");

### 值初始化
通vv常情况下，可以只提供vector对象容纳的元素数量而不用略去初始值，此时库会创建一个值初始化的元素初值，并把它赋给容器中的所有元素。初值由vector对象的类型决定。

如果vector对象的元素是内置类型，如int，则初始值为0.如果元素是某种类类型，如string，则元素由类默认初始化。

这种初始化方式有两种特殊限制，其一，有些类要求必须明确的提供初始值；其二，如果只提供了元素的数量而没有设定初始值，只能使用直接初始化。（无法使用拷贝初始化）

### 列表初始化还是元素数量？
vector<int> v1(10); //v1有10个元素。

vector<int> v2{10}; //v2有1个元素，值为10。

vector<int> v3(10, 1); //v3有10个元素，值都为1。

vector<int> v4{10, 1}; //v4有2两个元素，值分别为10和1。

如果使用的是圆括号，提供的值是用来构造对象的。

如果使用的是花括号，是我们想列表初始化该vector对象。

但如果初始化时使用花括号的形式但是提供的值又不能用来列表初始化，则就是用来构造vector对象的。

vector<string> v5{10}; //v5有10个默认初始化的元素。

## 向vector对象中添加元素
对于vector对象来说，直接初始化的方式适用于三种情况，初始值已知且数量少、初始值是另一个vector的副本、所有元素初始值相同。

更常见的情况是：创建一个vector对象时并不清楚实际所需的元素个数，元素值也经常无法确定。

更好的处理方法是先创建一个空vector，然后在运行时再利用vector的成员函数push_back向其中添加元素。

### 向vector对象添加元素蕴含的编程假定
如果循环体内包含有向vector对象添加元素的语句，则不能使用范围for循环。

## 其他vector操作
v.empty() //如果v不含有任何元素，返回真。

v.size()  //返回v中元素的个数。

v.push_back(t)  //向v的尾端添加一个值为t的元素。

v[n] //返回v中第n个位置上元素的引用。

v1 = v2 //用v2中的元素拷贝替换v1中的元素。

访问vector对象中元素的方法和访问string对象中字符的方法差不多，也是通过元素在vector对象中的位置。

### 计算vector内对象的索引
使用下标的时候必须清楚的知道它是否在合理范围之内。

### 不能用下标形式添加元素
只能使用push_back(),只能对已知存在的元素执行下标操作。
