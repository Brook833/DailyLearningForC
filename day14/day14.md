2022.9.22
学习C++primer 4.1表达式基础


## 基本概念
作用于一个运算对象的运算符是一元运算符。

一些符号既能作为一元运算符也能作为二元运算符,如*。

### 运算对象转换
小整数类型（bool,char,short）通常会被提升成较大的整数类型，一般是int。

### 重载运算符
C++语言定义了运算符作用于内置类型和复合类型的运算对象时所执行的操作。

当运算符作用于类的运算对象时，用户可以自行定义其含义。称其为重载运算符。

如IO库的>>和<<，以及vector对象，string对象和迭代器使用的运算符，都是重载的运算符。

使用重载运算符时，运算对象的类型和返回值的类型都是由该运算符定义的。但是运算对象的个数，运算符的优先级和结合律都是无法改变的。

### 左值和右值
表达式不是左值就是右值。

左值表达式的结果是一个对象或者一个函数。

当一个对象被用作右值的时候，用的时对象的值（内容）；当对象被用作左值的时候，用的是对象的身份（内存中的位置）。

需要右值的地方可以用左值来代替，但是不能把右值当成左值使用。

使用decltype，如果表达式的求值结果是左值，decltype作用于该表达式得到一个引用类型。

### 求值顺序
优先级规定了运算对象的组合方式，但是没有说明运算对象按照什么顺序求职。大多数情况下，不会明确指定求值的顺序。

对于没有指定执行顺序的运算符来说，如果表达式指向并修改了同一个对象，将会引发错误，并产生未定义的行为。

int i = 0;

cout << i << " << ++i << endl; //未定义的

有四种预算夫明确规定了运算对象的求值顺序，&&、||、?:、和,运算符。